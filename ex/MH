#!/usr/bin/env python3

# ========== IMPORTS ==========
import os

# ========== DICTIONARIES / LISTS ===============
rooms = {
        'porch'  :{
                    'desc'       : 'MONTY HALL PORCH: Your driver pulls up to the curb and you get out. Drizzling rain hastens you out and up the steps to Monty Hall. Renovated in the last three months, the old estate was awash with lights and pouring with music. Costumed up for the bootleg era, you are eager to join your co-workers in the interactive mystery murder theater.',
                    'acts'       : [' - Return to the CURB', ' - Go to the RECEPTION', ' - Check your INVITATION'],
                    'curb'       : 'curb',
                    'reception'  : 'reception',
                    'invitation' : 'Hmmm. Surely it was here? Did I leave it on the back seat?',
                    'item'       : [],
                  },

        'curb'  :{
                    'desc'       : 'CURBSIDE: Your ride already left. Nothing at the curb except deeping puddles, lamps, and trees swaying in the wind.',
                    'acts'       : [' - Enter the FOYER', ' - Call an uber and go HOME', ' - Search again for your INVITATION'],
                    'foyer'      : 'foyer',
                    'home'       : 'home',
                    'porch'      : 'porch'
                    'invitation' : 'Found it! Too many pockets in this jacket for you.',
                    'item'       : [],
                  },
        }
inv = []
# ========== INITIAL STATE ===============
current_room = 'porch'
current_desc = rooms[current_room]['desc']
current_acts = rooms[current_room]['acts']
current_item = rooms[current_room]['item']
current_inv = []

# ========== STATUS SCREEN ==========
def status():
  os.system("clear")
  print('=========================================================================================')
  print('''
                      ╔╦╗╔═╗╔╗╔╔╦╗╦ ╦  ╦ ╦╔═╗╦  ╦    ╔╦╗╦ ╦╦═╗╔╦╗╔═╗╦═╗
                      ║║║║ ║║║║ ║ ╚╦╝  ╠═╣╠═╣║  ║    ║║║║ ║╠╦╝ ║║║╣ ╠╦╝
                      ╩ ╩╚═╝╝╚╝ ╩  ╩   ╩ ╩╩ ╩╩═╝╩═╝  ╩ ╩╚═╝╩╚══╩╝╚═╝╩╚═
    ''')
  print('=========================================================================================')
  print()
  print(current_desc, "\n")
  print('=========================================================================================')
  print(f"INVENTORY: {current_inv}")
  print(f"AVAILABLE INTERACTIONS:  {current_acts, current_item}")
  print('========================================================================================', '\n')

# ========== GAME LOOP ===============
while True:
  status()

  choice = ''
  while choice == '':
    choice = input('Type the KEYWORD of your next action: ',)
    choice = choice.lower()
                                 
    if "item" in rooms[current_room] and choice in rooms[current_room]['item']:         # ADD TO INVENTORY, REMOVE FROM ROOM
        current_inventory += rooms[currentRoom]['item']
        del rooms[currentRoom]['item']
        continue

    elif "item" in current_inv and choice in rooms[current_room]:                       # REMOVE FROM INVENTORY
        for line in current_inv:   
            print(f"Dropped: {choice.upper()}")
            add.rooms[current_room][line]
        continue

    elif choice in rooms:                                                               # CHANGE ROOM & UPDATE ALL ROOM VARIABLES
        current_room = rooms[current_room][choice]
        current_desc = rooms[current_room]['desc']
        current_acts = rooms[current_room]['acts']
        current_item = rooms[current_room]['item']
        break

    elif choice in current_room and choice != 'desc' and choice != 'acts':              # ACTIONS
        print(current_room[choice])
        print(input("Press ENTER to continue."))
        continue

    else:
      print("Action not available.")
      choice = ''
      continue

  else: continue

